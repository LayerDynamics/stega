const plugin = {
  metadata: {
    name: "lifecycle-test-plugin",
    version: "1.0.0",
    description: "Test plugin for lifecycle management"
  },
  init: async (cli)=>{
    try {
      cli.register({
        name: "test-command",
        description: "Test command",
        action: async ()=>{
          cli.logger.info("Test command executed");
        }
      });
      cli.logger.info("Plugin initialized");
    } catch (error) {
      // Format error message correctly
      cli.logger.error(`Failed to initialize plugin: ${error instanceof Error ? error.message : String(error)}`);
      throw error;
    }
  },
  unload: async (cli)=>{
    // @ts-ignore - Accessing private registry for cleanup
    const registry = cli['registry'];
    const removed = registry.remove("test-command");
    cli.logger.info("Plugin destroyed");
  }
};
export default plugin;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImZpbGU6Ly8vVXNlcnMvcnlhbm9ib3lsZS9zdGVnYS90bXAvMTUzOTA2MjE3Y2YzYzQ5MC9saWZlY3ljbGUtcGx1Z2luLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIlxuICAgICAgICAgICAgaW1wb3J0IHR5cGUgeyBDTEkgfSBmcm9tIFwiL1VzZXJzL3J5YW5vYm95bGUvc3RlZ2Evc3JjL2NvcmUudHNcIjtcbiAgICAgICAgICAgIGltcG9ydCB0eXBlIHsgUGx1Z2luIH0gZnJvbSBcIi9Vc2Vycy9yeWFub2JveWxlL3N0ZWdhL3NyYy9wbHVnaW4udHNcIjtcblxuICAgICAgICAgICAgY29uc3QgcGx1Z2luOiBQbHVnaW4gPSB7XG4gICAgICAgICAgICAgICAgbWV0YWRhdGE6IHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogXCJsaWZlY3ljbGUtdGVzdC1wbHVnaW5cIixcbiAgICAgICAgICAgICAgICAgICAgdmVyc2lvbjogXCIxLjAuMFwiLFxuICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogXCJUZXN0IHBsdWdpbiBmb3IgbGlmZWN5Y2xlIG1hbmFnZW1lbnRcIlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgaW5pdDogYXN5bmMgKGNsaTogQ0xJKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGkucmVnaXN0ZXIoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IFwidGVzdC1jb21tYW5kXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IFwiVGVzdCBjb21tYW5kXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0aW9uOiBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsaS5sb2dnZXIuaW5mbyhcIlRlc3QgY29tbWFuZCBleGVjdXRlZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsaS5sb2dnZXIuaW5mbyhcIlBsdWdpbiBpbml0aWFsaXplZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEZvcm1hdCBlcnJvciBtZXNzYWdlIGNvcnJlY3RseVxuICAgICAgICAgICAgICAgICAgICAgICAgY2xpLmxvZ2dlci5lcnJvcihgRmFpbGVkIHRvIGluaXRpYWxpemUgcGx1Z2luOiAke2Vycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogU3RyaW5nKGVycm9yKX1gKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB1bmxvYWQ6IGFzeW5jIChjbGk6IENMSSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlIC0gQWNjZXNzaW5nIHByaXZhdGUgcmVnaXN0cnkgZm9yIGNsZWFudXBcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVnaXN0cnkgPSBjbGlbJ3JlZ2lzdHJ5J107XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlbW92ZWQgPSByZWdpc3RyeS5yZW1vdmUoXCJ0ZXN0LWNvbW1hbmRcIik7XG4gICAgICAgICAgICAgICAgICAgIGNsaS5sb2dnZXIuaW5mbyhcIlBsdWdpbiBkZXN0cm95ZWRcIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgZXhwb3J0IGRlZmF1bHQgcGx1Z2luO1xuICAgICAgICAiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBSVksTUFBTSxTQUFpQjtFQUNuQixVQUFVO0lBQ04sTUFBTTtJQUNOLFNBQVM7SUFDVCxhQUFhO0VBQ2pCO0VBQ0EsTUFBTSxPQUFPO0lBQ1QsSUFBSTtNQUNBLElBQUksUUFBUSxDQUFDO1FBQ1QsTUFBTTtRQUNOLGFBQWE7UUFDYixRQUFRO1VBQ0osSUFBSSxNQUFNLENBQUMsSUFBSSxDQUFDO1FBQ3BCO01BQ0o7TUFDQSxJQUFJLE1BQU0sQ0FBQyxJQUFJLENBQUM7SUFDcEIsRUFBRSxPQUFPLE9BQU87TUFDWixpQ0FBaUM7TUFDakMsSUFBSSxNQUFNLENBQUMsS0FBSyxDQUFDLENBQUMsNkJBQTZCLEVBQUUsaUJBQWlCLFFBQVEsTUFBTSxPQUFPLEdBQUcsT0FBTyxPQUFPLENBQUM7TUFDekcsTUFBTTtJQUNWO0VBQ0o7RUFDQSxRQUFRLE9BQU87SUFDWCxzREFBc0Q7SUFDdEQsTUFBTSxXQUFXLEdBQUcsQ0FBQyxXQUFXO0lBQ2hDLE1BQU0sVUFBVSxTQUFTLE1BQU0sQ0FBQztJQUNoQyxJQUFJLE1BQU0sQ0FBQyxJQUFJLENBQUM7RUFDcEI7QUFDSjtBQUVBLGVBQWUsT0FBTyJ9
// denoCacheMetadata=9373342004220299137,2545070389862440711