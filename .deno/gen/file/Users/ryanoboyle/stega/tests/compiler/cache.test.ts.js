//tests/compiler/cache.ts
import { assertEquals } from "@std/assert";
import { Cache } from "../../src/compiler/cache.ts";
Deno.test("Cache - stores and retrieves values", async ()=>{
  const cache = new Cache();
  const key = "test-key";
  const value = {
    foo: "bar"
  };
  const contents = "some content";
  await cache.set(key, value, contents); // Provided all 3 arguments
  const retrieved = await cache.get(key, contents); // Provided both key and contents
  assertEquals(retrieved, value);
});
Deno.test("Cache - handles non-existent keys", async ()=>{
  const cache = new Cache();
  const contents = "non-existent content";
  const retrieved = await cache.get("non-existent", contents); // Provided both key and contents
  assertEquals(retrieved, undefined);
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImZpbGU6Ly8vVXNlcnMvcnlhbm9ib3lsZS9zdGVnYS90ZXN0cy9jb21waWxlci9jYWNoZS50ZXN0LnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vdGVzdHMvY29tcGlsZXIvY2FjaGUudHNcbmltcG9ydCB7IGFzc2VydEVxdWFscyB9IGZyb20gXCJAc3RkL2Fzc2VydFwiO1xuaW1wb3J0IHsgQ2FjaGUgfSBmcm9tIFwiLi4vLi4vc3JjL2NvbXBpbGVyL2NhY2hlLnRzXCI7XG5cbkRlbm8udGVzdChcIkNhY2hlIC0gc3RvcmVzIGFuZCByZXRyaWV2ZXMgdmFsdWVzXCIsIGFzeW5jICgpID0+IHtcblx0Y29uc3QgY2FjaGUgPSBuZXcgQ2FjaGUoKTtcblx0Y29uc3Qga2V5ID0gXCJ0ZXN0LWtleVwiO1xuXHRjb25zdCB2YWx1ZSA9IHsgZm9vOiBcImJhclwiIH07XG5cdGNvbnN0IGNvbnRlbnRzID0gXCJzb21lIGNvbnRlbnRcIjtcblxuXHRhd2FpdCBjYWNoZS5zZXQoa2V5LCB2YWx1ZSwgY29udGVudHMpOyAvLyBQcm92aWRlZCBhbGwgMyBhcmd1bWVudHNcblx0Y29uc3QgcmV0cmlldmVkID0gYXdhaXQgY2FjaGUuZ2V0KGtleSwgY29udGVudHMpOyAvLyBQcm92aWRlZCBib3RoIGtleSBhbmQgY29udGVudHNcblx0YXNzZXJ0RXF1YWxzKHJldHJpZXZlZCwgdmFsdWUpO1xufSk7XG5cbkRlbm8udGVzdChcIkNhY2hlIC0gaGFuZGxlcyBub24tZXhpc3RlbnQga2V5c1wiLCBhc3luYyAoKSA9PiB7XG5cdGNvbnN0IGNhY2hlID0gbmV3IENhY2hlKCk7XG5cdGNvbnN0IGNvbnRlbnRzID0gXCJub24tZXhpc3RlbnQgY29udGVudFwiO1xuXHRjb25zdCByZXRyaWV2ZWQgPSBhd2FpdCBjYWNoZS5nZXQoXCJub24tZXhpc3RlbnRcIiwgY29udGVudHMpOyAvLyBQcm92aWRlZCBib3RoIGtleSBhbmQgY29udGVudHNcblx0YXNzZXJ0RXF1YWxzKHJldHJpZXZlZCwgdW5kZWZpbmVkKTtcbn0pO1xuIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLHlCQUF5QjtBQUN6QixTQUFTLFlBQVksUUFBUSxjQUFjO0FBQzNDLFNBQVMsS0FBSyxRQUFRLDhCQUE4QjtBQUVwRCxLQUFLLElBQUksQ0FBQyx1Q0FBdUM7RUFDaEQsTUFBTSxRQUFRLElBQUk7RUFDbEIsTUFBTSxNQUFNO0VBQ1osTUFBTSxRQUFRO0lBQUUsS0FBSztFQUFNO0VBQzNCLE1BQU0sV0FBVztFQUVqQixNQUFNLE1BQU0sR0FBRyxDQUFDLEtBQUssT0FBTyxXQUFXLDJCQUEyQjtFQUNsRSxNQUFNLFlBQVksTUFBTSxNQUFNLEdBQUcsQ0FBQyxLQUFLLFdBQVcsaUNBQWlDO0VBQ25GLGFBQWEsV0FBVztBQUN6QjtBQUVBLEtBQUssSUFBSSxDQUFDLHFDQUFxQztFQUM5QyxNQUFNLFFBQVEsSUFBSTtFQUNsQixNQUFNLFdBQVc7RUFDakIsTUFBTSxZQUFZLE1BQU0sTUFBTSxHQUFHLENBQUMsZ0JBQWdCLFdBQVcsaUNBQWlDO0VBQzlGLGFBQWEsV0FBVztBQUN6QiJ9
// denoCacheMetadata=6528976411260772033,7380239012276386158