// Copyright 2018-2024 the Deno authors. All rights reserved. MIT license.
// This module is browser compatible.
var _computedKey;
import { getLevelByName, getLevelName } from "./levels.ts";
const DEFAULT_FORMATTER = ({ levelName, msg })=>`${levelName} ${msg}`;
_computedKey = Symbol.dispose;
export class BaseHandler {
  #levelName;
  #level;
  formatter;
  constructor(levelName, { formatter = DEFAULT_FORMATTER } = {}){
    this.#levelName = levelName;
    this.#level = getLevelByName(levelName);
    this.formatter = formatter;
  }
  get level() {
    return this.#level;
  }
  set level(level) {
    this.#level = level;
    this.#levelName = getLevelName(level);
  }
  get levelName() {
    return this.#levelName;
  }
  set levelName(levelName) {
    this.#levelName = levelName;
    this.#level = getLevelByName(levelName);
  }
  handle(logRecord) {
    if (this.level > logRecord.level) return;
    const msg = this.format(logRecord);
    this.log(msg);
  }
  format(logRecord) {
    return this.formatter(logRecord);
  }
  log(_msg) {}
  setup() {}
  destroy() {}
  [_computedKey]() {
    this.destroy();
  }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImh0dHBzOi8vZGVuby5sYW5kL3N0ZEAwLjIyNC4wL2xvZy9iYXNlX2hhbmRsZXIudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gQ29weXJpZ2h0IDIwMTgtMjAyNCB0aGUgRGVubyBhdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLiBNSVQgbGljZW5zZS5cbi8vIFRoaXMgbW9kdWxlIGlzIGJyb3dzZXIgY29tcGF0aWJsZS5cbmltcG9ydCB7XG4gIGdldExldmVsQnlOYW1lLFxuICBnZXRMZXZlbE5hbWUsXG4gIHR5cGUgTGV2ZWxOYW1lLFxuICB0eXBlIExvZ0xldmVsLFxufSBmcm9tIFwiLi9sZXZlbHMudHNcIjtcbmltcG9ydCB0eXBlIHsgTG9nUmVjb3JkIH0gZnJvbSBcIi4vbG9nZ2VyLnRzXCI7XG5cbmV4cG9ydCB0eXBlIEZvcm1hdHRlckZ1bmN0aW9uID0gKGxvZ1JlY29yZDogTG9nUmVjb3JkKSA9PiBzdHJpbmc7XG5jb25zdCBERUZBVUxUX0ZPUk1BVFRFUjogRm9ybWF0dGVyRnVuY3Rpb24gPSAoeyBsZXZlbE5hbWUsIG1zZyB9KSA9PlxuICBgJHtsZXZlbE5hbWV9ICR7bXNnfWA7XG5cbmV4cG9ydCBpbnRlcmZhY2UgQmFzZUhhbmRsZXJPcHRpb25zIHtcbiAgZm9ybWF0dGVyPzogRm9ybWF0dGVyRnVuY3Rpb247XG59XG5cbmV4cG9ydCBjbGFzcyBCYXNlSGFuZGxlciB7XG4gICNsZXZlbE5hbWU6IExldmVsTmFtZTtcbiAgI2xldmVsOiBMb2dMZXZlbDtcbiAgZm9ybWF0dGVyOiBGb3JtYXR0ZXJGdW5jdGlvbjtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBsZXZlbE5hbWU6IExldmVsTmFtZSxcbiAgICB7IGZvcm1hdHRlciA9IERFRkFVTFRfRk9STUFUVEVSIH06IEJhc2VIYW5kbGVyT3B0aW9ucyA9IHt9LFxuICApIHtcbiAgICB0aGlzLiNsZXZlbE5hbWUgPSBsZXZlbE5hbWU7XG4gICAgdGhpcy4jbGV2ZWwgPSBnZXRMZXZlbEJ5TmFtZShsZXZlbE5hbWUpO1xuICAgIHRoaXMuZm9ybWF0dGVyID0gZm9ybWF0dGVyO1xuICB9XG5cbiAgZ2V0IGxldmVsKCk6IExvZ0xldmVsIHtcbiAgICByZXR1cm4gdGhpcy4jbGV2ZWw7XG4gIH1cblxuICBzZXQgbGV2ZWwobGV2ZWw6IExvZ0xldmVsKSB7XG4gICAgdGhpcy4jbGV2ZWwgPSBsZXZlbDtcbiAgICB0aGlzLiNsZXZlbE5hbWUgPSBnZXRMZXZlbE5hbWUobGV2ZWwpO1xuICB9XG5cbiAgZ2V0IGxldmVsTmFtZSgpOiBMZXZlbE5hbWUge1xuICAgIHJldHVybiB0aGlzLiNsZXZlbE5hbWU7XG4gIH1cbiAgc2V0IGxldmVsTmFtZShsZXZlbE5hbWU6IExldmVsTmFtZSkge1xuICAgIHRoaXMuI2xldmVsTmFtZSA9IGxldmVsTmFtZTtcbiAgICB0aGlzLiNsZXZlbCA9IGdldExldmVsQnlOYW1lKGxldmVsTmFtZSk7XG4gIH1cblxuICBoYW5kbGUobG9nUmVjb3JkOiBMb2dSZWNvcmQpIHtcbiAgICBpZiAodGhpcy5sZXZlbCA+IGxvZ1JlY29yZC5sZXZlbCkgcmV0dXJuO1xuXG4gICAgY29uc3QgbXNnID0gdGhpcy5mb3JtYXQobG9nUmVjb3JkKTtcbiAgICB0aGlzLmxvZyhtc2cpO1xuICB9XG5cbiAgZm9ybWF0KGxvZ1JlY29yZDogTG9nUmVjb3JkKTogc3RyaW5nIHtcbiAgICByZXR1cm4gdGhpcy5mb3JtYXR0ZXIobG9nUmVjb3JkKTtcbiAgfVxuXG4gIGxvZyhfbXNnOiBzdHJpbmcpIHt9XG4gIHNldHVwKCkge31cbiAgZGVzdHJveSgpIHt9XG5cbiAgW1N5bWJvbC5kaXNwb3NlXSgpIHtcbiAgICB0aGlzLmRlc3Ryb3koKTtcbiAgfVxufVxuIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLDBFQUEwRTtBQUMxRSxxQ0FBcUM7O0FBQ3JDLFNBQ0UsY0FBYyxFQUNkLFlBQVksUUFHUCxjQUFjO0FBSXJCLE1BQU0sb0JBQXVDLENBQUMsRUFBRSxTQUFTLEVBQUUsR0FBRyxFQUFFLEdBQzlELENBQUMsRUFBRSxVQUFVLENBQUMsRUFBRSxJQUFJLENBQUM7ZUFvRHBCLE9BQU8sT0FBTztBQTlDakIsT0FBTyxNQUFNO0VBQ1gsQ0FBQSxTQUFVLENBQVk7RUFDdEIsQ0FBQSxLQUFNLENBQVc7RUFDakIsVUFBNkI7RUFFN0IsWUFDRSxTQUFvQixFQUNwQixFQUFFLFlBQVksaUJBQWlCLEVBQXNCLEdBQUcsQ0FBQyxDQUFDLENBQzFEO0lBQ0EsSUFBSSxDQUFDLENBQUEsU0FBVSxHQUFHO0lBQ2xCLElBQUksQ0FBQyxDQUFBLEtBQU0sR0FBRyxlQUFlO0lBQzdCLElBQUksQ0FBQyxTQUFTLEdBQUc7RUFDbkI7RUFFQSxJQUFJLFFBQWtCO0lBQ3BCLE9BQU8sSUFBSSxDQUFDLENBQUEsS0FBTTtFQUNwQjtFQUVBLElBQUksTUFBTSxLQUFlLEVBQUU7SUFDekIsSUFBSSxDQUFDLENBQUEsS0FBTSxHQUFHO0lBQ2QsSUFBSSxDQUFDLENBQUEsU0FBVSxHQUFHLGFBQWE7RUFDakM7RUFFQSxJQUFJLFlBQXVCO0lBQ3pCLE9BQU8sSUFBSSxDQUFDLENBQUEsU0FBVTtFQUN4QjtFQUNBLElBQUksVUFBVSxTQUFvQixFQUFFO0lBQ2xDLElBQUksQ0FBQyxDQUFBLFNBQVUsR0FBRztJQUNsQixJQUFJLENBQUMsQ0FBQSxLQUFNLEdBQUcsZUFBZTtFQUMvQjtFQUVBLE9BQU8sU0FBb0IsRUFBRTtJQUMzQixJQUFJLElBQUksQ0FBQyxLQUFLLEdBQUcsVUFBVSxLQUFLLEVBQUU7SUFFbEMsTUFBTSxNQUFNLElBQUksQ0FBQyxNQUFNLENBQUM7SUFDeEIsSUFBSSxDQUFDLEdBQUcsQ0FBQztFQUNYO0VBRUEsT0FBTyxTQUFvQixFQUFVO0lBQ25DLE9BQU8sSUFBSSxDQUFDLFNBQVMsQ0FBQztFQUN4QjtFQUVBLElBQUksSUFBWSxFQUFFLENBQUM7RUFDbkIsUUFBUSxDQUFDO0VBQ1QsVUFBVSxDQUFDO0VBRVgsaUJBQW1CO0lBQ2pCLElBQUksQ0FBQyxPQUFPO0VBQ2Q7QUFDRiJ9
// denoCacheMetadata=7174916635234146147,1352121739978005570