import { GenericPrompt } from "./_generic_prompt.ts";
import { GenericSuggestions } from "./_generic_suggestions.ts";
import { dim } from "./deps.ts";
/**
 * Confirm prompt representation.
 *
 * ```ts
 * import { Confirm } from "./mod.ts";
 *
 * const confirmed: boolean = await Confirm.prompt("Please confirm");
 * ```
 */ export class Confirm extends GenericSuggestions {
  settings;
  /** Execute the prompt with provided options. */ static prompt(options) {
    return new this(options).prompt();
  }
  /**
   * Inject prompt value. If called, the prompt doesn't prompt for an input and
   * returns immediately the injected value. Can be used for unit tests or pre
   * selections.
   *
   * @param value Input value.
   */ static inject(value) {
    GenericPrompt.inject(value);
  }
  constructor(options){
    super();
    if (typeof options === "string") {
      options = {
        message: options
      };
    }
    this.settings = this.getDefaultSettings(options);
  }
  getDefaultSettings(options) {
    return {
      ...super.getDefaultSettings(options),
      active: options.active || "Yes",
      inactive: options.inactive || "No",
      files: false,
      complete: undefined,
      suggestions: [
        options.active || "Yes",
        options.inactive || "No"
      ],
      list: false,
      info: false
    };
  }
  defaults() {
    let defaultMessage = "";
    if (this.settings.default === true) {
      defaultMessage += this.settings.active[0].toUpperCase() + "/" + this.settings.inactive[0].toLowerCase();
    } else if (this.settings.default === false) {
      defaultMessage += this.settings.active[0].toLowerCase() + "/" + this.settings.inactive[0].toUpperCase();
    } else {
      defaultMessage += this.settings.active[0].toLowerCase() + "/" + this.settings.inactive[0].toLowerCase();
    }
    return defaultMessage ? dim(` (${defaultMessage})`) : "";
  }
  success(value) {
    this.saveSuggestions(this.format(value));
    return super.success(value);
  }
  /** Get input input. */ getValue() {
    return this.inputValue;
  }
  /**
   * Validate input value.
   * @param value User input value.
   * @return True on success, false or error message on error.
   */ validate(value) {
    return typeof value === "string" && [
      this.settings.active[0].toLowerCase(),
      this.settings.active.toLowerCase(),
      this.settings.inactive[0].toLowerCase(),
      this.settings.inactive.toLowerCase()
    ].indexOf(value.toLowerCase()) !== -1;
  }
  /**
   * Map input value to output value.
   * @param value Input value.
   * @return Output value.
   */ transform(value) {
    switch(value.toLowerCase()){
      case this.settings.active[0].toLowerCase():
      case this.settings.active.toLowerCase():
        return true;
      case this.settings.inactive[0].toLowerCase():
      case this.settings.inactive.toLowerCase():
        return false;
    }
    return;
  }
  /**
   * Format output value.
   * @param value Output value.
   */ format(value) {
    return value ? this.settings.active : this.settings.inactive;
  }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImh0dHBzOi8vZGVuby5sYW5kL3gvY2xpZmZ5QHYxLjAuMC1yYy4zL3Byb21wdC9jb25maXJtLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEdlbmVyaWNQcm9tcHQgfSBmcm9tIFwiLi9fZ2VuZXJpY19wcm9tcHQudHNcIjtcbmltcG9ydCB7XG4gIEdlbmVyaWNTdWdnZXN0aW9ucyxcbiAgR2VuZXJpY1N1Z2dlc3Rpb25zS2V5cyxcbiAgR2VuZXJpY1N1Z2dlc3Rpb25zT3B0aW9ucyxcbiAgR2VuZXJpY1N1Z2dlc3Rpb25zU2V0dGluZ3MsXG59IGZyb20gXCIuL19nZW5lcmljX3N1Z2dlc3Rpb25zLnRzXCI7XG5pbXBvcnQgeyBkaW0gfSBmcm9tIFwiLi9kZXBzLnRzXCI7XG5cbnR5cGUgVW5zdXBwb3J0ZWRPcHRpb25zID1cbiAgfCBcImZpbGVzXCJcbiAgfCBcImNvbXBsZXRlXCJcbiAgfCBcInN1Z2dlc3Rpb25zXCJcbiAgfCBcImxpc3RcIlxuICB8IFwiaW5mb1wiO1xuXG4vKiogQ29uZmlybSBwcm9tcHQgb3B0aW9ucy4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgQ29uZmlybU9wdGlvbnNcbiAgZXh0ZW5kcyBPbWl0PEdlbmVyaWNTdWdnZXN0aW9uc09wdGlvbnM8Ym9vbGVhbiwgc3RyaW5nPiwgVW5zdXBwb3J0ZWRPcHRpb25zPiB7XG4gIC8qKiBLZXltYXAgdG8gYXNzaWduIGtleSBuYW1lcyB0byBwcm9tcHQgYWN0aW9ucy4gKi9cbiAga2V5cz86IENvbmZpcm1LZXlzO1xuICAvKiogQ2hhbmdlIGFjdGl2ZSBsYWJlbC4gRGVmYXVsdCBpcyBgWWVzYC4gKi9cbiAgYWN0aXZlPzogc3RyaW5nO1xuICAvKiogQ2hhbmdlIGluYWN0aXZlIGxhYmVsLiBEZWZhdWx0IGlzIGBOb2AuICovXG4gIGluYWN0aXZlPzogc3RyaW5nO1xufVxuXG4vKiogQ29uZmlybSBwcm9tcHQgc2V0dGluZ3MuICovXG5pbnRlcmZhY2UgQ29uZmlybVNldHRpbmdzIGV4dGVuZHMgR2VuZXJpY1N1Z2dlc3Rpb25zU2V0dGluZ3M8Ym9vbGVhbiwgc3RyaW5nPiB7XG4gIGFjdGl2ZTogc3RyaW5nO1xuICBpbmFjdGl2ZTogc3RyaW5nO1xuICBrZXlzPzogQ29uZmlybUtleXM7XG59XG5cbi8qKiBDb25maXJtIHByb21wdCBrZXltYXAuICovXG5leHBvcnQgdHlwZSBDb25maXJtS2V5cyA9IEdlbmVyaWNTdWdnZXN0aW9uc0tleXM7XG5cbi8qKlxuICogQ29uZmlybSBwcm9tcHQgcmVwcmVzZW50YXRpb24uXG4gKlxuICogYGBgdHNcbiAqIGltcG9ydCB7IENvbmZpcm0gfSBmcm9tIFwiLi9tb2QudHNcIjtcbiAqXG4gKiBjb25zdCBjb25maXJtZWQ6IGJvb2xlYW4gPSBhd2FpdCBDb25maXJtLnByb21wdChcIlBsZWFzZSBjb25maXJtXCIpO1xuICogYGBgXG4gKi9cbmV4cG9ydCBjbGFzcyBDb25maXJtIGV4dGVuZHMgR2VuZXJpY1N1Z2dlc3Rpb25zPGJvb2xlYW4sIHN0cmluZz4ge1xuICBwcm90ZWN0ZWQgcmVhZG9ubHkgc2V0dGluZ3M6IENvbmZpcm1TZXR0aW5ncztcblxuICAvKiogRXhlY3V0ZSB0aGUgcHJvbXB0IHdpdGggcHJvdmlkZWQgb3B0aW9ucy4gKi9cbiAgcHVibGljIHN0YXRpYyBwcm9tcHQoXG4gICAgb3B0aW9uczogc3RyaW5nIHwgQ29uZmlybU9wdGlvbnMsXG4gICk6IFByb21pc2U8Ym9vbGVhbj4ge1xuICAgIHJldHVybiBuZXcgdGhpcyhvcHRpb25zKS5wcm9tcHQoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBJbmplY3QgcHJvbXB0IHZhbHVlLiBJZiBjYWxsZWQsIHRoZSBwcm9tcHQgZG9lc24ndCBwcm9tcHQgZm9yIGFuIGlucHV0IGFuZFxuICAgKiByZXR1cm5zIGltbWVkaWF0ZWx5IHRoZSBpbmplY3RlZCB2YWx1ZS4gQ2FuIGJlIHVzZWQgZm9yIHVuaXQgdGVzdHMgb3IgcHJlXG4gICAqIHNlbGVjdGlvbnMuXG4gICAqXG4gICAqIEBwYXJhbSB2YWx1ZSBJbnB1dCB2YWx1ZS5cbiAgICovXG4gIHB1YmxpYyBzdGF0aWMgaW5qZWN0KHZhbHVlOiBzdHJpbmcpOiB2b2lkIHtcbiAgICBHZW5lcmljUHJvbXB0LmluamVjdCh2YWx1ZSk7XG4gIH1cblxuICBjb25zdHJ1Y3RvcihvcHRpb25zOiBzdHJpbmcgfCBDb25maXJtT3B0aW9ucykge1xuICAgIHN1cGVyKCk7XG4gICAgaWYgKHR5cGVvZiBvcHRpb25zID09PSBcInN0cmluZ1wiKSB7XG4gICAgICBvcHRpb25zID0geyBtZXNzYWdlOiBvcHRpb25zIH07XG4gICAgfVxuICAgIHRoaXMuc2V0dGluZ3MgPSB0aGlzLmdldERlZmF1bHRTZXR0aW5ncyhvcHRpb25zKTtcbiAgfVxuXG4gIHB1YmxpYyBnZXREZWZhdWx0U2V0dGluZ3Mob3B0aW9uczogQ29uZmlybU9wdGlvbnMpOiBDb25maXJtU2V0dGluZ3Mge1xuICAgIHJldHVybiB7XG4gICAgICAuLi5zdXBlci5nZXREZWZhdWx0U2V0dGluZ3Mob3B0aW9ucyksXG4gICAgICBhY3RpdmU6IG9wdGlvbnMuYWN0aXZlIHx8IFwiWWVzXCIsXG4gICAgICBpbmFjdGl2ZTogb3B0aW9ucy5pbmFjdGl2ZSB8fCBcIk5vXCIsXG4gICAgICBmaWxlczogZmFsc2UsXG4gICAgICBjb21wbGV0ZTogdW5kZWZpbmVkLFxuICAgICAgc3VnZ2VzdGlvbnM6IFtcbiAgICAgICAgb3B0aW9ucy5hY3RpdmUgfHwgXCJZZXNcIixcbiAgICAgICAgb3B0aW9ucy5pbmFjdGl2ZSB8fCBcIk5vXCIsXG4gICAgICBdLFxuICAgICAgbGlzdDogZmFsc2UsXG4gICAgICBpbmZvOiBmYWxzZSxcbiAgICB9O1xuICB9XG5cbiAgcHJvdGVjdGVkIGRlZmF1bHRzKCk6IHN0cmluZyB7XG4gICAgbGV0IGRlZmF1bHRNZXNzYWdlID0gXCJcIjtcblxuICAgIGlmICh0aGlzLnNldHRpbmdzLmRlZmF1bHQgPT09IHRydWUpIHtcbiAgICAgIGRlZmF1bHRNZXNzYWdlICs9IHRoaXMuc2V0dGluZ3MuYWN0aXZlWzBdLnRvVXBwZXJDYXNlKCkgKyBcIi9cIiArXG4gICAgICAgIHRoaXMuc2V0dGluZ3MuaW5hY3RpdmVbMF0udG9Mb3dlckNhc2UoKTtcbiAgICB9IGVsc2UgaWYgKHRoaXMuc2V0dGluZ3MuZGVmYXVsdCA9PT0gZmFsc2UpIHtcbiAgICAgIGRlZmF1bHRNZXNzYWdlICs9IHRoaXMuc2V0dGluZ3MuYWN0aXZlWzBdLnRvTG93ZXJDYXNlKCkgKyBcIi9cIiArXG4gICAgICAgIHRoaXMuc2V0dGluZ3MuaW5hY3RpdmVbMF0udG9VcHBlckNhc2UoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZGVmYXVsdE1lc3NhZ2UgKz0gdGhpcy5zZXR0aW5ncy5hY3RpdmVbMF0udG9Mb3dlckNhc2UoKSArIFwiL1wiICtcbiAgICAgICAgdGhpcy5zZXR0aW5ncy5pbmFjdGl2ZVswXS50b0xvd2VyQ2FzZSgpO1xuICAgIH1cblxuICAgIHJldHVybiBkZWZhdWx0TWVzc2FnZSA/IGRpbShgICgke2RlZmF1bHRNZXNzYWdlfSlgKSA6IFwiXCI7XG4gIH1cblxuICBwcm90ZWN0ZWQgc3VjY2Vzcyh2YWx1ZTogYm9vbGVhbik6IHN0cmluZyB8IHVuZGVmaW5lZCB7XG4gICAgdGhpcy5zYXZlU3VnZ2VzdGlvbnModGhpcy5mb3JtYXQodmFsdWUpKTtcbiAgICByZXR1cm4gc3VwZXIuc3VjY2Vzcyh2YWx1ZSk7XG4gIH1cblxuICAvKiogR2V0IGlucHV0IGlucHV0LiAqL1xuICBwcm90ZWN0ZWQgZ2V0VmFsdWUoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gdGhpcy5pbnB1dFZhbHVlO1xuICB9XG5cbiAgLyoqXG4gICAqIFZhbGlkYXRlIGlucHV0IHZhbHVlLlxuICAgKiBAcGFyYW0gdmFsdWUgVXNlciBpbnB1dCB2YWx1ZS5cbiAgICogQHJldHVybiBUcnVlIG9uIHN1Y2Nlc3MsIGZhbHNlIG9yIGVycm9yIG1lc3NhZ2Ugb24gZXJyb3IuXG4gICAqL1xuICBwcm90ZWN0ZWQgdmFsaWRhdGUodmFsdWU6IHN0cmluZyk6IGJvb2xlYW4gfCBzdHJpbmcge1xuICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIgJiZcbiAgICAgIFtcbiAgICAgICAgICB0aGlzLnNldHRpbmdzLmFjdGl2ZVswXS50b0xvd2VyQ2FzZSgpLFxuICAgICAgICAgIHRoaXMuc2V0dGluZ3MuYWN0aXZlLnRvTG93ZXJDYXNlKCksXG4gICAgICAgICAgdGhpcy5zZXR0aW5ncy5pbmFjdGl2ZVswXS50b0xvd2VyQ2FzZSgpLFxuICAgICAgICAgIHRoaXMuc2V0dGluZ3MuaW5hY3RpdmUudG9Mb3dlckNhc2UoKSxcbiAgICAgICAgXS5pbmRleE9mKHZhbHVlLnRvTG93ZXJDYXNlKCkpICE9PSAtMTtcbiAgfVxuXG4gIC8qKlxuICAgKiBNYXAgaW5wdXQgdmFsdWUgdG8gb3V0cHV0IHZhbHVlLlxuICAgKiBAcGFyYW0gdmFsdWUgSW5wdXQgdmFsdWUuXG4gICAqIEByZXR1cm4gT3V0cHV0IHZhbHVlLlxuICAgKi9cbiAgcHJvdGVjdGVkIHRyYW5zZm9ybSh2YWx1ZTogc3RyaW5nKTogYm9vbGVhbiB8IHVuZGVmaW5lZCB7XG4gICAgc3dpdGNoICh2YWx1ZS50b0xvd2VyQ2FzZSgpKSB7XG4gICAgICBjYXNlIHRoaXMuc2V0dGluZ3MuYWN0aXZlWzBdLnRvTG93ZXJDYXNlKCk6XG4gICAgICBjYXNlIHRoaXMuc2V0dGluZ3MuYWN0aXZlLnRvTG93ZXJDYXNlKCk6XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgY2FzZSB0aGlzLnNldHRpbmdzLmluYWN0aXZlWzBdLnRvTG93ZXJDYXNlKCk6XG4gICAgICBjYXNlIHRoaXMuc2V0dGluZ3MuaW5hY3RpdmUudG9Mb3dlckNhc2UoKTpcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm47XG4gIH1cblxuICAvKipcbiAgICogRm9ybWF0IG91dHB1dCB2YWx1ZS5cbiAgICogQHBhcmFtIHZhbHVlIE91dHB1dCB2YWx1ZS5cbiAgICovXG4gIHByb3RlY3RlZCBmb3JtYXQodmFsdWU6IGJvb2xlYW4pOiBzdHJpbmcge1xuICAgIHJldHVybiB2YWx1ZSA/IHRoaXMuc2V0dGluZ3MuYWN0aXZlIDogdGhpcy5zZXR0aW5ncy5pbmFjdGl2ZTtcbiAgfVxufVxuIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLFNBQVMsYUFBYSxRQUFRLHVCQUF1QjtBQUNyRCxTQUNFLGtCQUFrQixRQUliLDRCQUE0QjtBQUNuQyxTQUFTLEdBQUcsUUFBUSxZQUFZO0FBOEJoQzs7Ozs7Ozs7Q0FRQyxHQUNELE9BQU8sTUFBTSxnQkFBZ0I7RUFDUixTQUEwQjtFQUU3Qyw4Q0FBOEMsR0FDOUMsT0FBYyxPQUNaLE9BQWdDLEVBQ2Q7SUFDbEIsT0FBTyxJQUFJLElBQUksQ0FBQyxTQUFTLE1BQU07RUFDakM7RUFFQTs7Ozs7O0dBTUMsR0FDRCxPQUFjLE9BQU8sS0FBYSxFQUFRO0lBQ3hDLGNBQWMsTUFBTSxDQUFDO0VBQ3ZCO0VBRUEsWUFBWSxPQUFnQyxDQUFFO0lBQzVDLEtBQUs7SUFDTCxJQUFJLE9BQU8sWUFBWSxVQUFVO01BQy9CLFVBQVU7UUFBRSxTQUFTO01BQVE7SUFDL0I7SUFDQSxJQUFJLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQyxrQkFBa0IsQ0FBQztFQUMxQztFQUVPLG1CQUFtQixPQUF1QixFQUFtQjtJQUNsRSxPQUFPO01BQ0wsR0FBRyxLQUFLLENBQUMsbUJBQW1CLFFBQVE7TUFDcEMsUUFBUSxRQUFRLE1BQU0sSUFBSTtNQUMxQixVQUFVLFFBQVEsUUFBUSxJQUFJO01BQzlCLE9BQU87TUFDUCxVQUFVO01BQ1YsYUFBYTtRQUNYLFFBQVEsTUFBTSxJQUFJO1FBQ2xCLFFBQVEsUUFBUSxJQUFJO09BQ3JCO01BQ0QsTUFBTTtNQUNOLE1BQU07SUFDUjtFQUNGO0VBRVUsV0FBbUI7SUFDM0IsSUFBSSxpQkFBaUI7SUFFckIsSUFBSSxJQUFJLENBQUMsUUFBUSxDQUFDLE9BQU8sS0FBSyxNQUFNO01BQ2xDLGtCQUFrQixJQUFJLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUMsV0FBVyxLQUFLLE1BQ3hELElBQUksQ0FBQyxRQUFRLENBQUMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxXQUFXO0lBQ3pDLE9BQU8sSUFBSSxJQUFJLENBQUMsUUFBUSxDQUFDLE9BQU8sS0FBSyxPQUFPO01BQzFDLGtCQUFrQixJQUFJLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUMsV0FBVyxLQUFLLE1BQ3hELElBQUksQ0FBQyxRQUFRLENBQUMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxXQUFXO0lBQ3pDLE9BQU87TUFDTCxrQkFBa0IsSUFBSSxDQUFDLFFBQVEsQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDLFdBQVcsS0FBSyxNQUN4RCxJQUFJLENBQUMsUUFBUSxDQUFDLFFBQVEsQ0FBQyxFQUFFLENBQUMsV0FBVztJQUN6QztJQUVBLE9BQU8saUJBQWlCLElBQUksQ0FBQyxFQUFFLEVBQUUsZUFBZSxDQUFDLENBQUMsSUFBSTtFQUN4RDtFQUVVLFFBQVEsS0FBYyxFQUFzQjtJQUNwRCxJQUFJLENBQUMsZUFBZSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUM7SUFDakMsT0FBTyxLQUFLLENBQUMsUUFBUTtFQUN2QjtFQUVBLHFCQUFxQixHQUNyQixBQUFVLFdBQW1CO0lBQzNCLE9BQU8sSUFBSSxDQUFDLFVBQVU7RUFDeEI7RUFFQTs7OztHQUlDLEdBQ0QsQUFBVSxTQUFTLEtBQWEsRUFBb0I7SUFDbEQsT0FBTyxPQUFPLFVBQVUsWUFDdEI7TUFDSSxJQUFJLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUMsV0FBVztNQUNuQyxJQUFJLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQyxXQUFXO01BQ2hDLElBQUksQ0FBQyxRQUFRLENBQUMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxXQUFXO01BQ3JDLElBQUksQ0FBQyxRQUFRLENBQUMsUUFBUSxDQUFDLFdBQVc7S0FDbkMsQ0FBQyxPQUFPLENBQUMsTUFBTSxXQUFXLFFBQVEsQ0FBQztFQUMxQztFQUVBOzs7O0dBSUMsR0FDRCxBQUFVLFVBQVUsS0FBYSxFQUF1QjtJQUN0RCxPQUFRLE1BQU0sV0FBVztNQUN2QixLQUFLLElBQUksQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDLEVBQUUsQ0FBQyxXQUFXO01BQ3hDLEtBQUssSUFBSSxDQUFDLFFBQVEsQ0FBQyxNQUFNLENBQUMsV0FBVztRQUNuQyxPQUFPO01BQ1QsS0FBSyxJQUFJLENBQUMsUUFBUSxDQUFDLFFBQVEsQ0FBQyxFQUFFLENBQUMsV0FBVztNQUMxQyxLQUFLLElBQUksQ0FBQyxRQUFRLENBQUMsUUFBUSxDQUFDLFdBQVc7UUFDckMsT0FBTztJQUNYO0lBQ0E7RUFDRjtFQUVBOzs7R0FHQyxHQUNELEFBQVUsT0FBTyxLQUFjLEVBQVU7SUFDdkMsT0FBTyxRQUFRLElBQUksQ0FBQyxRQUFRLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQyxRQUFRLENBQUMsUUFBUTtFQUM5RDtBQUNGIn0=
// denoCacheMetadata=17383071627256911875,5495145103133046230