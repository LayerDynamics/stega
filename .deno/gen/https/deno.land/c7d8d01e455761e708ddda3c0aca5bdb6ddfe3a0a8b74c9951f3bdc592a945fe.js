// Copyright 2018-2023 the Deno authors. All rights reserved. MIT license.
import { AssertionError } from "./assertion_error.ts";
/**
 * Make an assertion that `obj` is an instance of `type`.
 * If not then throw.
 */ export function assertInstanceOf(actual, expectedType, msg = "") {
  if (actual instanceof expectedType) return;
  const msgSuffix = msg ? `: ${msg}` : ".";
  const expectedTypeStr = expectedType.name;
  let actualTypeStr = "";
  if (actual === null) {
    actualTypeStr = "null";
  } else if (actual === undefined) {
    actualTypeStr = "undefined";
  } else if (typeof actual === "object") {
    actualTypeStr = actual.constructor?.name ?? "Object";
  } else {
    actualTypeStr = typeof actual;
  }
  if (expectedTypeStr === actualTypeStr) {
    msg = `Expected object to be an instance of "${expectedTypeStr}"${msgSuffix}`;
  } else if (actualTypeStr === "function") {
    msg = `Expected object to be an instance of "${expectedTypeStr}" but was not an instanced object${msgSuffix}`;
  } else {
    msg = `Expected object to be an instance of "${expectedTypeStr}" but was "${actualTypeStr}"${msgSuffix}`;
  }
  throw new AssertionError(msg);
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImh0dHBzOi8vZGVuby5sYW5kL3N0ZEAwLjIwMy4wL2Fzc2VydC9hc3NlcnRfaW5zdGFuY2Vfb2YudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gQ29weXJpZ2h0IDIwMTgtMjAyMyB0aGUgRGVubyBhdXRob3JzLiBBbGwgcmlnaHRzIHJlc2VydmVkLiBNSVQgbGljZW5zZS5cbmltcG9ydCB7IEFzc2VydGlvbkVycm9yIH0gZnJvbSBcIi4vYXNzZXJ0aW9uX2Vycm9yLnRzXCI7XG5cbi8vIGRlbm8tbGludC1pZ25vcmUgbm8tZXhwbGljaXQtYW55XG50eXBlIEFueUNvbnN0cnVjdG9yID0gbmV3ICguLi5hcmdzOiBhbnlbXSkgPT4gYW55O1xudHlwZSBHZXRDb25zdHJ1Y3RvclR5cGU8VCBleHRlbmRzIEFueUNvbnN0cnVjdG9yPiA9IFQgZXh0ZW5kcyAvLyBkZW5vLWxpbnQtaWdub3JlIG5vLWV4cGxpY2l0LWFueVxubmV3ICguLi5hcmdzOiBhbnkpID0+IGluZmVyIEMgPyBDXG4gIDogbmV2ZXI7XG5cbi8qKlxuICogTWFrZSBhbiBhc3NlcnRpb24gdGhhdCBgb2JqYCBpcyBhbiBpbnN0YW5jZSBvZiBgdHlwZWAuXG4gKiBJZiBub3QgdGhlbiB0aHJvdy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFzc2VydEluc3RhbmNlT2Y8VCBleHRlbmRzIEFueUNvbnN0cnVjdG9yPihcbiAgYWN0dWFsOiB1bmtub3duLFxuICBleHBlY3RlZFR5cGU6IFQsXG4gIG1zZyA9IFwiXCIsXG4pOiBhc3NlcnRzIGFjdHVhbCBpcyBHZXRDb25zdHJ1Y3RvclR5cGU8VD4ge1xuICBpZiAoYWN0dWFsIGluc3RhbmNlb2YgZXhwZWN0ZWRUeXBlKSByZXR1cm47XG5cbiAgY29uc3QgbXNnU3VmZml4ID0gbXNnID8gYDogJHttc2d9YCA6IFwiLlwiO1xuICBjb25zdCBleHBlY3RlZFR5cGVTdHIgPSBleHBlY3RlZFR5cGUubmFtZTtcblxuICBsZXQgYWN0dWFsVHlwZVN0ciA9IFwiXCI7XG4gIGlmIChhY3R1YWwgPT09IG51bGwpIHtcbiAgICBhY3R1YWxUeXBlU3RyID0gXCJudWxsXCI7XG4gIH0gZWxzZSBpZiAoYWN0dWFsID09PSB1bmRlZmluZWQpIHtcbiAgICBhY3R1YWxUeXBlU3RyID0gXCJ1bmRlZmluZWRcIjtcbiAgfSBlbHNlIGlmICh0eXBlb2YgYWN0dWFsID09PSBcIm9iamVjdFwiKSB7XG4gICAgYWN0dWFsVHlwZVN0ciA9IGFjdHVhbC5jb25zdHJ1Y3Rvcj8ubmFtZSA/PyBcIk9iamVjdFwiO1xuICB9IGVsc2Uge1xuICAgIGFjdHVhbFR5cGVTdHIgPSB0eXBlb2YgYWN0dWFsO1xuICB9XG5cbiAgaWYgKGV4cGVjdGVkVHlwZVN0ciA9PT0gYWN0dWFsVHlwZVN0cikge1xuICAgIG1zZyA9XG4gICAgICBgRXhwZWN0ZWQgb2JqZWN0IHRvIGJlIGFuIGluc3RhbmNlIG9mIFwiJHtleHBlY3RlZFR5cGVTdHJ9XCIke21zZ1N1ZmZpeH1gO1xuICB9IGVsc2UgaWYgKGFjdHVhbFR5cGVTdHIgPT09IFwiZnVuY3Rpb25cIikge1xuICAgIG1zZyA9XG4gICAgICBgRXhwZWN0ZWQgb2JqZWN0IHRvIGJlIGFuIGluc3RhbmNlIG9mIFwiJHtleHBlY3RlZFR5cGVTdHJ9XCIgYnV0IHdhcyBub3QgYW4gaW5zdGFuY2VkIG9iamVjdCR7bXNnU3VmZml4fWA7XG4gIH0gZWxzZSB7XG4gICAgbXNnID1cbiAgICAgIGBFeHBlY3RlZCBvYmplY3QgdG8gYmUgYW4gaW5zdGFuY2Ugb2YgXCIke2V4cGVjdGVkVHlwZVN0cn1cIiBidXQgd2FzIFwiJHthY3R1YWxUeXBlU3RyfVwiJHttc2dTdWZmaXh9YDtcbiAgfVxuXG4gIHRocm93IG5ldyBBc3NlcnRpb25FcnJvcihtc2cpO1xufVxuIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLDBFQUEwRTtBQUMxRSxTQUFTLGNBQWMsUUFBUSx1QkFBdUI7QUFRdEQ7OztDQUdDLEdBQ0QsT0FBTyxTQUFTLGlCQUNkLE1BQWUsRUFDZixZQUFlLEVBQ2YsTUFBTSxFQUFFO0VBRVIsSUFBSSxrQkFBa0IsY0FBYztFQUVwQyxNQUFNLFlBQVksTUFBTSxDQUFDLEVBQUUsRUFBRSxJQUFJLENBQUMsR0FBRztFQUNyQyxNQUFNLGtCQUFrQixhQUFhLElBQUk7RUFFekMsSUFBSSxnQkFBZ0I7RUFDcEIsSUFBSSxXQUFXLE1BQU07SUFDbkIsZ0JBQWdCO0VBQ2xCLE9BQU8sSUFBSSxXQUFXLFdBQVc7SUFDL0IsZ0JBQWdCO0VBQ2xCLE9BQU8sSUFBSSxPQUFPLFdBQVcsVUFBVTtJQUNyQyxnQkFBZ0IsT0FBTyxXQUFXLEVBQUUsUUFBUTtFQUM5QyxPQUFPO0lBQ0wsZ0JBQWdCLE9BQU87RUFDekI7RUFFQSxJQUFJLG9CQUFvQixlQUFlO0lBQ3JDLE1BQ0UsQ0FBQyxzQ0FBc0MsRUFBRSxnQkFBZ0IsQ0FBQyxFQUFFLFVBQVUsQ0FBQztFQUMzRSxPQUFPLElBQUksa0JBQWtCLFlBQVk7SUFDdkMsTUFDRSxDQUFDLHNDQUFzQyxFQUFFLGdCQUFnQixpQ0FBaUMsRUFBRSxVQUFVLENBQUM7RUFDM0csT0FBTztJQUNMLE1BQ0UsQ0FBQyxzQ0FBc0MsRUFBRSxnQkFBZ0IsV0FBVyxFQUFFLGNBQWMsQ0FBQyxFQUFFLFVBQVUsQ0FBQztFQUN0RztFQUVBLE1BQU0sSUFBSSxlQUFlO0FBQzNCIn0=
// denoCacheMetadata=13405574615107699558,6650030439623186513